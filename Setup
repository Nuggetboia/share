#!/bin/bash

echo "ğŸš€ ShareView - Complete Screen Sharing Setup"
echo "=============================================="
echo ""

# Check Node.js
if ! command -v node &> /dev/null; then
    echo "âŒ Node.js is not installed"
    echo "   Install from: https://nodejs.org/"
    exit 1
fi

echo "âœ… Node.js: $(node --version)"

# Check npm
if ! command -v npm &> /dev/null; then
    echo "âŒ npm is not installed"
    exit 1
fi

echo "âœ… npm: $(npm --version)"
echo ""

# Install dependencies
echo "ğŸ“¦ Installing dependencies..."
npm install

if [ $? -ne 0 ]; then
    echo "âŒ Installation failed"
    exit 1
fi

echo ""
echo "âœ… Installation complete!"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“‹ QUICK START GUIDE"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1ï¸âƒ£  Start the server:"
echo "   npm start"
echo ""
echo "2ï¸âƒ£  Open in browser:"
echo "   http://localhost:3000"
echo ""
echo "3ï¸âƒ£  To share your screen:"
echo "   â€¢ Click 'Create Room'"
echo "   â€¢ Copy the 6-digit code"
echo "   â€¢ Click 'Start Sharing'"
echo "   â€¢ Select screen and check 'Share audio'"
echo ""
echo "4ï¸âƒ£  For others to view:"
echo "   â€¢ Open http://localhost:3000"
echo "   â€¢ Click 'Join Room'"
echo "   â€¢ Enter the 6-digit code"
echo "   â€¢ Click on sharer name to view"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ’¡ TESTING ON SAME COMPUTER"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "   1. Open http://localhost:3000 in Chrome"
echo "   2. Click 'Create Room' and copy code"
echo "   3. Open NEW INCOGNITO WINDOW"
echo "   4. Go to http://localhost:3000"
echo "   5. Join room with the code"
echo "   6. Start sharing in first window"
echo "   7. View in second window!"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Ready to start! Run: npm start"
echo ""
